:PROPERTIES:
:ID:       e76bfca8-f61d-45a2-908f-bad416a7c304
:END:
#+title: git (version control software)
* Check branch before each git session
  :PROPERTIES:
  :ID:       ff7ae828-8ded-4916-ae67-551d604e2382
  :END:
  Or even before each operation.
* git add -p
  to cherry-pick the changes in a file to commit
* configure Git so Emacs is the default editor
  :PROPERTIES:
  :ID:       70269641-9c54-4bd8-93f8-6554005a913c
  :END:
  git config --global core.editor "emacs -nw"
    # -nw: use Emacs at the command line (not via the gui)
* [[id:d0d72bb0-f308-4fa0-9e7f-e0d78a22b118][Make git diffs readable by including empty lines.]]
* [[id:6e66c817-c802-4b37-9467-4bfa61f3965b][Unindexed files are fragile.]]
* to merge upstream changes into a fork
  git checkout master
  git fetch upstream
  git merge upstream/master
* to rename a branch locally and upstream
** git branch -m new-name
** git branch -D old-name
** git push origin --delete old-name
   where "origin" is the remote repo's local nickname
* to fetch all branches
** code
   git branch -r | grep -v '\->' | sed "s,\x1B\[[0-9;]*[a-zA-Z],,g" | while read remote; do git branch --track "${remote#origin/}" "$remote"; done
   git fetch --all
   git pull --all
** source
   https://stackoverflow.com/a/10312587/916142
