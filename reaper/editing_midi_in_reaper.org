:PROPERTIES:
:ID:       91cb005e-e87a-42dd-8dc9-ae3c5a094f12
:ROAM_ALIASES: "Reaper / MIDI"
:END:
#+title: MIDI in Reaper
* [[id:bd1d48d6-c221-4051-b1f9-ae26b36ac315][Reaper feature request: Stretch markers for MIDI]]
* u
** [[id:5333d0f7-f7dd-459c-a2c9-b195ad71c961][fast channel manipulations in Reaper]]
   esp. useful for the channels-as-octave idiom
** TODO How do colors represent channels in the MIDI editor?
** set note lengths to grid size
** Options / "drawing or selecting a note sets the new note length"
* BLOCKED my feature requests \ Reaper
** bigger piano roll in Reaper, I asked for a
   :PROPERTIES:
   :ID:       c9734ff4-b0a0-4132-9f84-87e78eb67246
   :END:
   https://forum.cockos.com/showthread.php?t=272533&highlight=channel+octave
* skipped when reading
** most of the CC stuff
   including but not limited to
*** Using MIDI CC Messages to Control FX Presets
** Notation Events
** Sysex
** Bank/Program Select
** Quantize
** Humanize
** Working with Multiple MIDI Tracks and/or Items
   This section title appears with a typo (the 7 below) in the manual:
     Working with Multiple MIDI Tracks an7d/or Items
* PITFALLs
  :PROPERTIES:
  :ID:       8ed4c9dd-8441-4a05-acc2-e641be0a5ac6
  :END:
** if [[id:4b707dbe-5c10-438d-9b21-727a4b79accc][Copying MIDI notes changes their lengths! \ Reaper]]
** "Pool MIDI source data when pasting or duplicating media items"
   means that editing something will also edit clips duplicated from it,
   and *defaults to enabled*.
** [[id:25af2475-7c85-461b-93ca-762cd9be3e4f][There are two Actions Lists.]]
** [[id:3f037a94-3112-4aa3-8b41-e69cdb579d98][Sync editor transport to project transport]] could be off.
** [[id:35651a38-7f3e-49cf-8bc8-977a294fe1fe]["CC selection follows note selection"]] could be off.
** "Use the same grid division in arrange view and MIDI editor" could be off.
** Timebase, tempo, and project-MIDI sync complexities
   over my head
*** quote
    Tip: The View, Piano Roll Timebase command includes the options source beats, project beats and project
 time. MIDI data is always defined in beat-based terms, but in the time view mode the grid is adjusted to reflect
 any tempo changes in the project. If there are no tempo changes, the beat and time views will be identical. You
 also have the option to select Project synced. This synchronizes the timeline of the project and MIDI item
 together. It also ensures that both windows are synchronized during such actions as zooming and scrolling.
** "The MIDI Editor follows your Arrange view settings."
   e.g. whether loop points are linked to the time selection
** MIDI pitch quantization is an option.
   "Enabling the key snap option allows you to select a scale and a chord"
** "Chase MIDI note-ons in project playback" is nice.
   With this on, MIDI notes will still be heard,
   even if their note-on event is before the start of playback.
** On the piano roll ruler, visibility of these is toggleable
   project markers
   project regions
   tempo/time signature
* TODO Is there playback when *step* recording?
  :PROPERTIES:
  :ID:       c9e830d4-d030-40a8-84cd-6e94bcd4bc30
  :END:
** TODO play with [[id:8251e005-ab70-4ca0-b440-b706cf3c178b]["note preview" options]]
* HANDY things
** When entering notes, Velocity has hysteresis.
   :PROPERTIES:
   :ID:       ff1b707a-5f77-4485-8936-fec7364b9f32
   :END:
   "The default Velocity value for notes created in the MIDI Editor is taken from the last selected event"
** F3 : "panic" : send note-off to all notes
** "Use all MIDI inputs for step recording"
   Otherwise I think it only uses the computer keyboard's F1-F12.
   Step recording is non-realtime recording, with playback off.
** Multiple MIDI items and/or tracks can show in one MIDI editor window.
   :PROPERTIES:
   :ID:       c466ef15-7398-4ee3-a6c0-8afb75a59e04
   :END:
   see the configuration option that begins
     One MIDI editor per
** for [[id:7b0e278c-0736-4eda-8f7a-a70d856e133a][microtonality]]
* drum programming
  useful configuration options for it
** [[id:15cc20a2-5a31-4a33-a03a-6f89c467f3b2][named notes]]
** "Hide unused and unnamed note rows."
** "You can change the order in which notes are shown."
   Hold Ctrl and drag a "pitch".
* some interfaces
** track controls
   A track's controls can be configured to control MIDI properties.
   (By default they control audio properties.)
   See section
     Using Track Controls with MIDI
** the MIDI Editor
*** to open it
    alternatives
**** select item, then C-M-e
**** double-click the item
*** has two cursors : "the" cursor, and the "pitch cursor"
    Both can be nudged, etc.
*** which items it contains
**** options
***** clicked-on MIDI item only
***** all selected MIDI items    <- the initial default
***** all MIDI on the same track
***** all MIDI in the project
**** overriding the default
     select an item/items and use the right-click context menu
*** the four views
**** piano roll (default)
**** [#A] named notes (and CC (channels?))
     :PROPERTIES:
     :ID:       15cc20a2-5a31-4a33-a03a-6f89c467f3b2
     :END:
***** The same file can contain note names and CC (channel?) names.
      :PROPERTIES:
      :ID:       ced67075-add5-4552-ae2a-ee10e605e90a
      :END:
***** This permits [[id:f34dfb22-8a4d-47eb-8f05-f0b43be9d774][arbitrary EDO layouts]]
***** noteworthy options
****** "Show note names on notes"
       :PROPERTIES:
       :ID:       08189c80-b8e2-4ee6-a8c5-ff34ea9e6193
       :END:
***** "useful for drum patterns.
**** more
*** It has its own Transport Bar.
*** the view of MIDI notes and other MIDI parameters
**** DONE tags : CC value, CC parameter
**** how to read it
     Notes are typically displayed in the big window.
     Below that is a little "CC lane", by default showing veloity.
**** ways to configure it
     alternatives
***** the context menu
      from right-clicking on the gray bar *above* the CC lane
***** the widgets on the left side of the CC lane
      The drop-down menu at the left of the CC lane offers other CC parameters.
      The small + to the right of that menu permits adding another lane.
***** color notes/CC by channel : C-S-M-c
      :PROPERTIES:
      :ID:       731b6763-14ed-4509-92ae-364996408225
      :END:
      jbb-specific, not builtin
** the MIDI Toolbar
*** = a stretch of icons at the top of the MIDI Editor
*** can be customized
*** PITFALL: Mouse can toggle "CC selection follows note selection".
    :PROPERTIES:
    :ID:       35651a38-7f3e-49cf-8bc8-977a294fe1fe
    :END:
* editing commands, some
** [[id:6e223491-a0d2-4387-8505-fe4c6029c3ff]["inline" edits]] are possible
** create new note : mouse, or MIDI in, or F1-F12
*** [[id:ff1b707a-5f77-4485-8936-fec7364b9f32][Velocity has hysteresis.]]
** delete note     : double-click
** select notes    : *right*-click drag
** Using the Keyboard (sec. 13.16, p. 237)
   Basically mix up shift, alt, arrows and numpad arrows.
*** PITFALL: I don't trust the manual on this.
    I think the last half of the third table is wrong.
*** moving the edit cursors
**** PITFALL: There are, I guess, two of these.
     A vertical line for time,
     and a horizontally highlighted pitch.
**** shortcuts
     left/right   : Move time  cursor by a grid division.
     S-left/right : Move time  cursor by a pixel.
     up/down      : Move pitch cursor by a semitone.
     M-S-up/down  : Move pitch cursor by an octave.
*** moving notes
    PITFALL: These might only work with numpad arrows, not normal ones?
    Or else the manual is wrong.
    M-up   : Move selected note(s) up   one octave.
    M-down : Move selected note(s) down one octave.
    C-up   : Move selected note(s) up   one semitone.
    C-down : Move selected note(s) down one semitone.
*** change note duration
    There are more ways but this seems like a good spanning set.
**** move right edge of note to edit cursor : jbb C-S-M-r
**** "Drawing or selecting a note sets the new note length"
*** insert note
**** Insert : insert at mouse
**** I      : insert at the edit cursor
*** [[id:8baabb34-721d-4f24-bf3f-7656f15fc4ac][channel operations, some]]
*** [[id:4408cdc9-5e4a-4680-bb1c-1d3e61c2f5dd][scrolling and zooming with the keyboard]]
** select all notes in range : *right*-click drag on piano roll
** add to selection          : C-M-*right* drag
** Paste preserving position in measure
   Pastes the selection to the next measure.
** Split notes : S
** Join notes
** Set note ends to start of next note (legato)
* configuration options, some
** Sync editor transport to project transport
   :PROPERTIES:
   :ID:       3f037a94-3112-4aa3-8b41-e69cdb579d98
   :END:
** [[id:7b545b8e-cbda-46dd-83e5-95171b540b57][how snapping works]]
*** [[id:b544f0cd-2e3a-4e9c-b9da-f1482b7a3e85][Soft snap notes to other notes]] might be nice.
** "default note length" is configurable in (MIDI Editor) Transport Bar
   "grid" seems to work fine.
   I don't understand what the other settings are.
** "note preview" options are interesting
   :PROPERTIES:
   :ID:       8251e005-ab70-4ca0-b440-b706cf3c178b
   :END:
   independent (not mutually exclusive)
*** Preview notes when inserting or editing
*** On velocity change
*** On keyboard action
*** All selected notes that overlap with selected note
* filtering
  :PROPERTIES:
  :ID:       4f7ff877-344d-4e3a-b0db-ae401efe66b5
  :END:
** open filter window : 'f'
** can filter to selected channels
*** to change channel(s) shown more quickly
    sometimes the Transport Bar "channels" menu is sufficient.
    Specifically, it lets you pick All or a single channel.
** can filter to selected types of events
** can determine which channel notes are "drawn" onto
   with the pencil tool
* Text Events (*aweesome*)
  :PROPERTIES:
  :ID:       d6c96acb-3ff8-4654-966a-2bd34f221f63
  :END:
** Lets you attach messages to passages.
** They scroll by in their own "CC Lane" (sic).
* CC data
** A CC edit (like many other kinds) can apply to multiple items at once.
   see in manual
     CC events in multiple media items
** [[id:ced67075-add5-4552-ae2a-ee10e605e90a][CC channels can be named]].
** 14-bit CC values are possible.
   :PROPERTIES:
   :ID:       07d25e19-4a22-4c9e-8c81-49005947f973
   :END:
* more possibilities
** Retroactive MIDI Recording
   lets you capture something you played while not recording.
** MIDI Data Sends
** [[id:07d25e19-4a22-4c9e-8c81-49005947f973][14-bit CC values]]
